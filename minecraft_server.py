#!Usa: python minecraft_server.py "en el terminal para iniciar el server".

import os
import sys
import json
import time
import requests
import subprocess
import zipfile
import shutil
import threading
from pathlib import Path

class MinecraftServerManager:
    def __init__(self):
        self.config_file = "server_config.json"
        self.server_dir = "minecraft_server"
        self.versions = {
            "1.20.4": "https://piston-data.mojang.com/v1/objects/8f3112a1049751cc472ec13e397eade5336ca7ae/server.jar",
            "1.20.1": "https://piston-data.mojang.com/v1/objects/84194a2f286ef7c14ed7ce0090dba59902951553/server.jar",
            "1.19.4": "https://piston-data.mojang.com/v1/objects/8f3112a1049751cc472ec13e397eade5336ca7ae/server.jar",
            "1.18.2": "https://piston-data.mojang.com/v1/objects/c8f83c5655308435b3dcf03c06d9fe8740a77469/server.jar",
            "1.16.5": "https://piston-data.mojang.com/v1/objects/1b557e7b033b583cd9f66746b7a9ab1ec1673ced/server.jar"
        }
        
        self.server_types = {
            "vanilla": {
                "name": "Vanilla (Oficial de Mojang)",
                "description": "Servidor oficial sin modificaciones"
            },
            "paper": {
                "name": "Paper (Optimizado)",
                "description": "Servidor optimizado con plugins Bukkit/Spigot",
                "base": "vanilla"
            },
            "forge": {
                "name": "Forge (Mods)",
                "description": "Servidor para mods de Forge"
            },
            "fabric": {
                "name": "Fabric (Mods Ligeros)",
                "description": "Servidor para mods de Fabric"
            },
            "mohist": {
                "name": "Mohist (H√≠brido)",
                "description": "Forge + Bukkit plugins",
                "base": "forge"
            }
        }

    def clear_screen(self):
        os.system('clear' if os.name == 'posix' else 'cls')

    def print_header(self):
        print("=" * 65)
        print("üéÆ SERVIDOR MINECRAFT CON PLAYIT - GITHUB CODESPACES üéÆ")
        print("=" * 65)
        print()

    def setup_gitignore(self):
        gitignore_content = """
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Minecraft Server
minecraft_server/
server_config.json
*.jar
logs/
world/
world_nether/
world_the_end/
crash-reports/
banned-*.json
ops.json
whitelist.json
usercache.json
usernamecache.json
eula.txt

# Playit
playit
playit.toml
"""
        with open(".gitignore", "w") as f:
            f.write(gitignore_content.strip())

    def install_dependencies(self):
        print("üì¶ Instalando dependencias...")
        try:
            # Instalar Java si no est√° disponible
            subprocess.run(["sudo", "apt", "update"], check=True, capture_output=True)
            subprocess.run(["sudo", "apt", "install", "-y", "openjdk-17-jdk", "wget", "curl"], 
                         check=True, capture_output=True)
            
            # Descargar playit si no existe
            if not os.path.exists("playit"):
                print("üåê Descargando Playit...")
                playit_url = "https://github.com/playit-cloud/playit-agent/releases/latest/download/playit-linux"
                response = requests.get(playit_url)
                if response.status_code == 200:
                    with open("playit", "wb") as f:
                        f.write(response.content)
                    os.chmod("playit", 0o755)
                    print("‚úÖ Playit descargado correctamente")
                else:
                    print("‚ùå Error descargando Playit")
                    return False
            
            return True
        except subprocess.CalledProcessError as e:
            print(f"‚ùå Error instalando dependencias: {e}")
            return False
        except Exception as e:
            print(f"‚ùå Error: {e}")
            return False

    def select_version(self):
        self.clear_screen()
        self.print_header()
        print("üéØ SELECCIONAR VERSI√ìN DE MINECRAFT")
        print("-" * 40)
        
        versions_list = list(self.versions.keys())
        for i, version in enumerate(versions_list, 1):
            print(f"{i}. Minecraft {version}")
        
        print(f"{len(versions_list) + 1}. Versi√≥n personalizada")
        print()
        
        while True:
            try:
                choice = input("Selecciona una opci√≥n: ").strip()
                choice_num = int(choice)
                
                if 1 <= choice_num <= len(versions_list):
                    return versions_list[choice_num - 1]
                elif choice_num == len(versions_list) + 1:
                    custom_version = input("Introduce la versi√≥n personalizada: ").strip()
                    return custom_version
                else:
                    print("‚ùå Opci√≥n inv√°lida")
            except ValueError:
                print("‚ùå Por favor, introduce un n√∫mero v√°lido")

    def select_server_type(self):
        self.clear_screen()
        self.print_header()
        print("‚öôÔ∏è CREAR SERVIDOR - TIPO DE SERVIDOR")
        print("-" * 40)
        
        server_list = list(self.server_types.keys())
        for i, server_type in enumerate(server_list, 1):
            info = self.server_types[server_type]
            print(f"{i}. {info['name']}")
            print(f"   {info['description']}")
            if 'base' in info:
                print(f"   (Puedes instalar {info['base']} desde gestionar despu√©s)")
            print()
        
        while True:
            try:
                choice = input("Selecciona el tipo de servidor: ").strip()
                choice_num = int(choice)
                
                if 1 <= choice_num <= len(server_list):
                    return server_list[choice_num - 1]
                else:
                    print("‚ùå Opci√≥n inv√°lida")
            except ValueError:
                print("‚ùå Por favor, introduce un n√∫mero v√°lido")

    def setup_playit(self):
        self.clear_screen()
        self.print_header()
        print("üåê CONFIGURACI√ìN DE PLAYIT")
        print("-" * 30)
        print()
        print("Para usar Playit necesitas:")
        print("1. üì± Ir a: https://playit.gg")
        print("2. üîë Crear una cuenta gratuita")
        print("3. üìã Copiar tu c√≥digo de t√∫nel")
        print()
        print("üí° El c√≥digo de t√∫nel se ve as√≠: 'claim-XXXXXXXXXX'")
        print()
        
        tunnel_code = input("Ingresa tu c√≥digo de t√∫nel de Playit: ").strip()
        
        if not tunnel_code:
            print("‚ùå C√≥digo de t√∫nel requerido")
            input("Presiona Enter para continuar...")
            return None
        
        if not tunnel_code.startswith("claim-"):
            print("‚ö†Ô∏è Advertencia: El c√≥digo deber√≠a empezar con 'claim-'")
            confirm = input("¬øContinuar de todos modos? (s/n): ").strip().lower()
            if confirm != 's':
                return None
        
        print("‚úÖ C√≥digo de t√∫nel guardado")
        return tunnel_code

    def download_server_jar(self, version, server_type):
        print(f"üì• Descargando servidor {server_type} para Minecraft {version}...")
        
        # Crear directorio del servidor
        Path(self.server_dir).mkdir(exist_ok=True)
        
        jar_path = os.path.join(self.server_dir, "server.jar")
        
        try:
            if server_type == "vanilla":
                if version in self.versions:
                    url = self.versions[version]
                else:
                    print(f"‚ùå Versi√≥n {version} no disponible")
                    return False
                    
            elif server_type == "paper":
                # Descargar Paper
                print("üìÑ Obteniendo Paper...")
                paper_api = f"https://api.papermc.io/v2/projects/paper/versions/{version}/builds"
                response = requests.get(paper_api)
                if response.status_code == 200:
                    builds = response.json()['builds']
                    latest_build = builds[-1]['build']
                    filename = f"paper-{version}-{latest_build}.jar"
                    url = f"https://api.papermc.io/v2/projects/paper/versions/{version}/builds/{latest_build}/downloads/{filename}"
                else:
                    print(f"‚ùå No se pudo obtener Paper para la versi√≥n {version}")
                    return False
                    
            elif server_type == "fabric":
                # Descargar Fabric
                print("üßµ Obteniendo Fabric...")
                fabric_api = f"https://meta.fabricmc.net/v2/versions/loader/{version}"
                response = requests.get(fabric_api)
                if response.status_code == 200:
                    loader_version = response.json()[0]['version']
                    installer_version = "0.11.2"
                    url = f"https://meta.fabricmc.net/v2/versions/loader/{version}/{loader_version}/{installer_version}/server/jar"
                else:
                    print(f"‚ùå No se pudo obtener Fabric para la versi√≥n {version}")
                    return False
                    
            elif server_type == "forge":
                print("‚ö†Ô∏è Forge requiere instalaci√≥n manual desde el men√∫ de gesti√≥n.")
                print("üì• Descargando Vanilla como base...")
                if version in self.versions:
                    url = self.versions[version]
                else:
                    print(f"‚ùå Versi√≥n {version} no disponible")
                    return False
                    
            elif server_type == "mohist":
                print("‚ö†Ô∏è Mohist requiere instalar Forge primero desde el men√∫ de gesti√≥n.")
                print("üì• Descargando Vanilla como base...")
                if version in self.versions:
                    url = self.versions[version]
                else:
                    print(f"‚ùå Versi√≥n {version} no disponible")
                    return False
                    
            else:
                print(f"‚ùå Tipo de servidor {server_type} no soportado")
                return False
            
            # Descargar el archivo
            print("‚¨áÔ∏è Descargando archivo del servidor...")
            response = requests.get(url, stream=True)
            if response.status_code == 200:
                total_size = int(response.headers.get('content-length', 0))
                downloaded = 0
                
                with open(jar_path, 'wb') as f:
                    for chunk in response.iter_content(chunk_size=8192):
                        if chunk:
                            f.write(chunk)
                            downloaded += len(chunk)
                            if total_size > 0:
                                percent = (downloaded / total_size) * 100
                                print(f"\rüìä Progreso: {percent:.1f}%", end="", flush=True)
                
                print("\n‚úÖ Servidor descargado exitosamente")
                return True
            else:
                print(f"‚ùå Error descargando servidor: {response.status_code}")
                return False
                
        except Exception as e:
            print(f"‚ùå Error: {e}")
            return False

    def configure_server(self):
        print("‚öôÔ∏è Configurando servidor...")
        
        # Crear server.properties
        server_properties = """# Configuraci√≥n del servidor Minecraft
server-port=25565
gamemode=survival
difficulty=easy
max-players=20
online-mode=false
enable-command-block=true
spawn-protection=0
motd=\\u00A76Servidor Minecraft con Playit
view-distance=10
allow-flight=false
white-list=false
enforce-whitelist=false
pvp=true
generate-structures=true
op-permission-level=4
allow-nether=true
level-name=world
enable-query=false
enable-rcon=false
enable-status=true
"""
        
        properties_path = os.path.join(self.server_dir, "server.properties")
        with open(properties_path, "w") as f:
            f.write(server_properties.strip())
        
        # Aceptar EULA
        eula_path = os.path.join(self.server_dir, "eula.txt")
        with open(eula_path, "w") as f:
            f.write("eula=true\n")
        
        print("‚úÖ Servidor configurado correctamente")

    def start_playit_tunnel(self, tunnel_code):
        """Inicia el t√∫nel de Playit en segundo plano"""
        try:
            print("üåê Iniciando t√∫nel Playit...")
            
            # Comando para iniciar playit con el c√≥digo de t√∫nel
            cmd = ["./playit", "--secret_path", "playit.toml"]
            
            # Si es la primera vez, usar el c√≥digo de claim
            if tunnel_code.startswith("claim-"):
                cmd = ["./playit", tunnel_code]
            
            # Iniciar proceso en segundo plano
            self.playit_process = subprocess.Popen(
                cmd, 
                stdout=subprocess.PIPE, 
                stderr=subprocess.PIPE,
                universal_newlines=True
            )
            
            # Dar tiempo para que se establezca la conexi√≥n
            time.sleep(10)
            
            print("‚úÖ T√∫nel Playit iniciado")
            print("üåê Tu servidor ser√° accesible a trav√©s de Playit")
            print("üì± Revisa tu panel en https://playit.gg para ver la IP p√∫blica")
            
            return True
            
        except Exception as e:
            print(f"‚ùå Error iniciando Playit: {e}")
            return False

    def start_server(self, tunnel_code):
        print("üöÄ INICIANDO SERVIDOR MINECRAFT")
        print("=" * 50)
        
        # Cambiar al directorio del servidor
        original_dir = os.getcwd()
        os.chdir(self.server_dir)
        
        try:
            # Iniciar t√∫nel Playit
            playit_thread = threading.Thread(
                target=self.start_playit_tunnel, 
                args=(tunnel_code,)
            )
            playit_thread.daemon = True
            playit_thread.start()
            
            # Esperar un poco para que Playit se inicie
            time.sleep(5)
            
            print("\nüéÆ INFORMACI√ìN IMPORTANTE:")
            print("‚îÅ" * 40)
            print("üì± Ve a https://playit.gg y entra a tu cuenta")
            print("üåê En el panel ver√°s la IP p√∫blica de tu servidor")
            print("üìã Comparte esa IP con tus amigos para jugar")
            print("‚ö†Ô∏è  Usa 'stop' en la consola para detener el servidor")
            print("‚îÅ" * 40)
            
            print("\nüöÄ Iniciando Minecraft Server...")
            print("‚è≥ Esto puede tomar unos minutos la primera vez...")
            print("-" * 50)
            
            # Iniciar servidor de Minecraft
            java_cmd = [
                "java", 
                "-Xmx2G", 
                "-Xms1G", 
                "-XX:+UseG1GC",
                "-XX:+ParallelRefProcEnabled",
                "-XX:MaxGCPauseMillis=200",
                "-XX:+UnlockExperimentalVMOptions",
                "-XX:+DisableExplicitGC",
                "-XX:G1NewSizePercent=30",
                "-XX:G1MaxNewSizePercent=40",
                "-XX:G1HeapRegionSize=8M",
                "-XX:G1ReservePercent=20",
                "-XX:G1HeapWastePercent=5",
                "-XX:G1MixedGCCountTarget=4",
                "-XX:InitiatingHeapOccupancyPercent=15",
                "-XX:G1MixedGCLiveThresholdPercent=90",
                "-XX:G1RSetUpdatingPauseTimePercent=5",
                "-XX:SurvivorRatio=32",
                "-XX:+PerfDisableSharedMem",
                "-XX:MaxTenuringThreshold=1",
                "-jar", "server.jar", "nogui"
            ]
            subprocess.run(java_cmd)
            
        except KeyboardInterrupt:
            print("\nüõë Servidor detenido por el usuario")
        except Exception as e:
            print(f"‚ùå Error iniciando servidor: {e}")
        finally:
            # Limpiar procesos
            try:
                if hasattr(self, 'playit_process'):
                    self.playit_process.terminate()
                    print("üîå T√∫nel Playit desconectado")
            except:
                pass
            os.chdir(original_dir)

    def main_menu(self):
        while True:
            self.clear_screen()
            self.print_header()
            print("üìã MEN√ö PRINCIPAL")
            print("-" * 35)
            print("1. üÜï Crear Servidor")
            print("2. ‚ñ∂Ô∏è  Iniciar Servidor Existente")
            print("3. ‚öôÔ∏è  Gestionar Servidor")
            print("4. üîß Configuraci√≥n Playit")
            print("5. ‚ÑπÔ∏è  Informaci√≥n")
            print("6. ‚ùå Salir")
            print()
            
            choice = input("Selecciona una opci√≥n: ").strip()
            
            if choice == "1":
                self.create_server_workflow()
            elif choice == "2":
                self.start_existing_server()
            elif choice == "3":
                self.manage_server_menu()
            elif choice == "4":
                self.playit_configuration()
            elif choice == "5":
                self.show_info()
            elif choice == "6":
                print("üëã ¬°Hasta luego!")
                break
            else:
                print("‚ùå Opci√≥n inv√°lida")
                input("Presiona Enter para continuar...")

    def create_server_workflow(self):
        print("üÜï CREANDO NUEVO SERVIDOR...")
        print("=" * 40)
        
        # Instalar dependencias
        if not self.install_dependencies():
            input("‚ùå Error instalando dependencias. Presiona Enter para continuar...")
            return
        
        # Seleccionar versi√≥n
        version = self.select_version()
        
        # Seleccionar tipo de servidor
        server_type = self.select_server_type()
        
        # Mostrar informaci√≥n sobre dependencias
        if server_type in ["paper", "mohist"]:
            base_type = self.server_types[server_type].get("base")
            if base_type:
                print(f"‚ÑπÔ∏è Nota: Puedes instalar {server_type} despu√©s de instalar {base_type} desde el men√∫ de gesti√≥n")
        
        # Configurar Playit
        tunnel_code = self.setup_playit()
        if not tunnel_code:
            input("‚ùå Configuraci√≥n de Playit cancelada. Presiona Enter para continuar...")
            return
        
        # Descargar servidor
        if not self.download_server_jar(version, server_type):
            input("‚ùå Error descargando servidor. Presiona Enter para continuar...")
            return
        
        # Configurar servidor
        self.configure_server()
        
        # Guardar configuraci√≥n
        config = {
            "version": version,
            "server_type": server_type,
            "tunnel_code": tunnel_code,
            "created": time.time()
        }
        
        with open(self.config_file, "w") as f:
            json.dump(config, f, indent=2)
        
        print("\n‚úÖ ¬°Servidor creado exitosamente!")
        print("=" * 40)
        
        # Preguntar si iniciar ahora
        start_now = input("\n¬øDeseas iniciar el servidor ahora? (s/n): ").strip().lower()
        if start_now == 's':
            self.start_server(tunnel_code)

    def start_existing_server(self):
        if not os.path.exists(self.config_file):
            print("‚ùå No hay servidor configurado.")
            print("üí° Crea uno primero usando la opci√≥n 'Crear Servidor'")
            input("Presiona Enter para continuar...")
            return
        
        try:
            with open(self.config_file, "r") as f:
                config = json.load(f)
            
            print(f"‚ñ∂Ô∏è Iniciando servidor {config['server_type']} v{config['version']}")
            self.start_server(config['tunnel_code'])
        except Exception as e:
            print(f"‚ùå Error cargando configuraci√≥n: {e}")
            input("Presiona Enter para continuar...")

    def manage_server_menu(self):
        while True:
            self.clear_screen()
            self.print_header()
            print("‚öôÔ∏è GESTIONAR SERVIDOR")
            print("-" * 30)
            print("1. üìä Estado del Servidor")
            print("2. üîß Instalar Mohist (despu√©s de Forge)")
            print("3. üìÑ Instalar Paper (despu√©s de Vanilla)")
            print("4. üßµ Instalar Purpur (despu√©s de Fabric)")
            print("5. üóëÔ∏è  Eliminar Servidor")
            print("6. üîô Volver al Men√∫ Principal")
            print()
            
            choice = input("Selecciona una opci√≥n: ").strip()
            
            if choice == "1":
                self.show_server_status()
            elif choice == "2":
                self.install_mohist()
            elif choice == "3":
                self.install_paper()
            elif choice == "4":
                self.install_purpur()
            elif choice == "5":
                self.delete_server()
            elif choice == "6":
                break
            else:
                print("‚ùå Opci√≥n inv√°lida")
                input("Presiona Enter para continuar...")

    def show_server_status(self):
        self.clear_screen()
        self.print_header()
        print("üìä ESTADO DEL SERVIDOR")
        print("-" * 30)
        
        if os.path.exists(self.config_file):
            with open(self.config_file, "r") as f:
                config = json.load(f)
            
            print(f"‚úÖ Servidor configurado:")
            print(f"   üì¶ Tipo: {config['server_type']}")
            print(f"   üéØ Versi√≥n: {config['version']}")
            print(f"   üìÖ Creado: {time.ctime(config['created'])}")
            
            if os.path.exists(self.server_dir):
                print(f"   üìÅ Directorio: ‚úÖ Existente")
                if os.path.exists(os.path.join(self.server_dir, "server.jar")):
                    print(f"   ‚òï JAR: ‚úÖ Presente")
                else:
                    print(f"   ‚òï JAR: ‚ùå Faltante")
            else:
                print(f"   üìÅ Directorio: ‚ùå Faltante")
                
        else:
            print("‚ùå No hay servidor configurado")
        
        input("\nPresiona Enter para continuar...")

    def install_mohist(self):
        print("üî• Instalando Mohist...")
        print("‚ö†Ô∏è Esta funci√≥n estar√° disponible pr√≥ximamente")
        input("Presiona Enter para continuar...")

    def install_paper(self):
        print("üìÑ Instalando Paper...")
        print("‚ö†Ô∏è Esta funci√≥n estar√° disponible pr√≥ximamente")
        input("Presiona Enter para continuar...")

    def install_purpur(self):
        print("üíú Instalando Purpur...")
        print("‚ö†Ô∏è Esta funci√≥n estar√° disponible pr√≥ximamente")
        input("Presiona Enter para continuar...")

    def delete_server(self):
        print("üóëÔ∏è ELIMINAR SERVIDOR")
        print("-" * 25)
        print("‚ö†Ô∏è Esta acci√≥n eliminar√° todos los archivos del servidor")
        confirm = input("¬øEst√°s seguro? Escribe 'ELIMINAR' para confirmar: ").strip()
        
        if confirm == "ELIMINAR":
            try:
                if os.path.exists(self.server_dir):
                    shutil.rmtree(self.server_dir)
                if os.path.exists(self.config_file):
                    os.remove(self.config_file)
                print("‚úÖ Servidor eliminado correctamente")
            except Exception as e:
                print(f"‚ùå Error eliminando servidor: {e}")
        else:
            print("‚ùå Eliminaci√≥n cancelada")
        
        input("Presiona Enter para continuar...")

    def playit_configuration(self):
        self.clear_screen()
        self.print_header()
        print("üîß CONFIGURACI√ìN PLAYIT")
        print("-" * 30)
        print("1. üîë Cambiar c√≥digo de t√∫nel")
        print("2. üì± Abrir panel de Playit")
        print("3. ‚ùì Ayuda con Playit")
        print("4. üîô Volver")
        print()
        
        choice = input("Selecciona una opci√≥n: ").strip()
        
        if choice == "1":
            new_code = self.setup_playit()
            if new_code and os.path.exists(self.config_file):
                with open(self.config_file, "r") as f:
                    config = json.load(f)
                config["tunnel_code"] = new_code
                with open(self.config_file, "w") as f:
                    json.dump(config, f, indent=2)
                print("‚úÖ C√≥digo actualizado")
            input("Presiona Enter para continuar...")
        elif choice == "2":
            print("üåê Abre tu navegador y ve a: https://playit.gg")
            input("Presiona Enter para continuar...")
        elif choice == "3":
            self.show_playit_help()
        elif choice == "4":
            return
        else:
            print("‚ùå Opci√≥n inv√°lida")
            input("Presiona Enter para continuar...")

    def show_playit_help(self):
        self.clear_screen()
        self.print_header()
        print("‚ùì AYUDA CON PLAYIT")
        print("-" * 25)
        print()
        print("üîó ¬øQu√© es Playit?")
        print("   Playit es un servicio que crea t√∫neles para hacer")
        print("   tu servidor accesible desde internet de forma gratuita.")
        print()
        print("üì± ¬øC√≥mo obtener un c√≥digo de t√∫nel?")
        print("   1. Ve a https://playit.gg")
        print("   2. Crea una cuenta gratuita")
        print("   3. Haz clic en 'Create Tunnel'")
        print("   4. Selecciona 'Minecraft Java Edition'")
        print("   5. Copia el c√≥digo que empieza con 'claim-'")
        print()
        print("üåê ¬øC√≥mo conectarse al servidor?")
        print("   1. Inicia tu servidor con este script")
        print("   2. Ve a tu panel en playit.gg")
        print("   3. Ver√°s la IP p√∫blica (ej: example.playit.gg)")
        print("   4. √ösala en Minecraft para conectarte")
        print()
        print("üí° Consejos:")
        print("   ‚Ä¢ Playit es gratuito pero tiene l√≠mites de ancho de banda")
        print("   ‚Ä¢ La IP puede cambiar si reinicias el t√∫nel")
        print("   ‚Ä¢ Guarda tu c√≥digo de t√∫nel para reutilizarlo")
        print()
        input("Presiona Enter para continuar...")

    def show_info(self):
        self.clear_screen()
        self.print_header()
        print("‚ÑπÔ∏è INFORMACI√ìN DEL SISTEMA")
        print("-" * 35)
        print()
        print("üìã Versiones Disponibles:")
        for version in self.versions.keys():
            print(f"   ‚Ä¢ Minecraft {version}")
        print()
        print("‚öôÔ∏è Tipos de Servidor:")
        print("   ‚Ä¢ Vanilla - Servidor oficial")
        print("   ‚Ä¢ Paper - Optimizado + plugins")
        print("   ‚Ä¢ Forge - Mods de Forge")
        print("   ‚Ä¢ Fabric - Mods ligeros")
        print("   ‚Ä¢ Mohist - Forge + Bukkit (instalar despu√©s)")
        print()
        print("üåê Caracter√≠sticas:")
        print("   ‚Ä¢ Integraci√≥n completa con Playit")
        print("   ‚Ä¢ Configuraci√≥n autom√°tica")
        print("   ‚Ä¢ Soporte para GitHub Codespaces")
        print("   ‚Ä¢ Gesti√≥n de depend√™ncias")
        print()
        print("üîó Enlaces √∫tiles:")
        print("   ‚Ä¢ Playit: https://playit.gg")
        print("   ‚Ä¢ Minecraft: https://minecraft.net")
        print()
        input("Presiona Enter para continuar...")

def main():
    # Configurar gitignore
    manager = MinecraftServerManager()
    manager.setup_gitignore()
    
    manager.clear_screen()
    manager.print_header()
    print("üéÆ ¬°Bienvenido al Gestor de Servidor Minecraft con Playit!")
    print()
    print("üìù Instrucciones r√°pidas:")
    print("   1. Ve a https://playit.gg y crea una cuenta")
    print("   2. Crea un t√∫nel para Minecraft Java Edition")
    print("   3. Copia tu c√≥digo (claim-XXXXXXXXXX)")
    print("   4. ¬°Usa este script para configurar todo autom√°ticamente!")
    print()
    print("üöÄ Caracter√≠sticas:")
    print("   ‚Ä¢ Soporte completo para Playit")
    print("   ‚Ä¢ Instalaci√≥n autom√°tica de dependencias")
    print("   ‚Ä¢ M√∫ltiples tipos de servidor (Vanilla, Paper, Forge, Fabric)")
    print("   ‚Ä¢ Configuraci√≥n autom√°tica optimizada")
    print("   ‚Ä¢ Compatible con GitHub Codespaces")
    print()
    input("Presiona Enter para continuar...")
    
    manager.main_menu()

if __name__ == "__main__":
    main()
